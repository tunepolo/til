+++
title = "ディレクトリトラバーサル"
+++

## 概要

入力ファイル名のセキュリティ検証/無害化が不十分なため、ファイルAPIに対して「親ディレクトリへの横断 (traverse)」を示すような文字がすり抜けて渡されてしまう。
ディレクトリを遡って任意のファイルにアクセスできてしまう。

## 対策

* リクエストからの値をファイル名などに利用しない。
* 読み込みを許可するファイルをホワイトリスト化しておき、チェックする。
* ファイル名への使用を禁止する文字列をブラックリスト化しておき、チェックする。
* 言語・WAFの機能を利用する。
  * PHP → open_basedir

## 参考

* [ディレクトリトラバーサル - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%83%88%E3%83%A9%E3%83%90%E3%83%BC%E3%82%B5%E3%83%AB)
